<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        
        function loadImg(src){
        const p = new Promise( 
            (resolve, reject) => {
            const img = document.createElement('img')
            img.onload = () => {
                resolve(img)
            }
            img.onerror = () => {
                const err = new Error(`图像加载失败${src}`)
                reject(err)
            }
            img.src = src
            }
        )

        return p
        }

        const src1 = 'https://www.baidu.com/img/PCtm_d9c8750bed0b3c7d089fa7d55720d6cf.png'
        const src2 = 'https://dgss0.bdstatic.com/5bVWsj_p_tVS5dKfpU_Y_D3/res/r/image/2017-09-27/297f5edb1e984613083a2d3cc0c5bb36.png'
        loadImg(src1).then(img1 => {
            console.log(img1.width)
            return img1
        }).then(img1 => {
            console.log(img1.height);
            return loadImg(src2)
        }).then(img2 => {
            console.log(img2.width);
            return img2
        }).then(img2 => {
            console.log(img2.height);
        }).catch(ex => 
            console.error(ex)
        )

    </script>
</body>
</html>